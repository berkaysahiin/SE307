<!DOCTYPE html>
<html>
<head>
    <title>Search Results</title>
</head>

<body>
    <h1>Search Results</h1>
    <form method="get" action="{% url 'thesis:search' %}">
        <div>
            <label for="id_table">Enter a thesis no:</label>
            <input type="text" name="thesisno" id="id_query" value="">
        </div>
        <div>
            <label for="id_table">Title:</label>
            <input type="text" name="title" id="id_query" value="">
        </div>
        <div>
            <label for="id_table">Abstract:</label>
            <input type="text" name="abstract" id="id_query" value="">
        </div>
        <div>
            <label for="id_table">Author:</label>
            <select name="author" id="id_table">
                {% for auth in person %}
                    <option value="{{ auth }}">{{auth}}</option>
                {% endfor %}
                <option value="any">-any-</option>
            </select>
        </div>
        <div>
            <label for="id_table">Superviser:</label>
            <select name="superviser" id="id_table">
                {% for sup in person %}
                    <option value="{{ sup }}">{{sup}}</option>
                {% endfor %}
                <option value="any">-any-</option>
            </select>
        </div>
        <div>
            <label for="id_table">Co-Superviser:</label>
            <select name="cosuperviser" id="id_table">
                {% for cosup in person %}
                    <option value="{{ cosup }}">{{cosup}}</option>
                {% endfor %}
                <option value="None">-None-</option> <!-- None tag is for choosing the null co superviser -->
                <option value="any">-any-</option>
            </select>
        </div>
        <div>
            <label for="id_table">Choose a Type:</label>
            <select name="typetable" id="id_table">
                {% for typ in type %}
                    <option value="{{ typ }}">{{ typ }}</option>
                {% endfor %}
                <option value="any">-any-</option>
            </select>
        </div>
        <div>
            <label for="id_table">Choose a Language:</label>
            <select name="langtable" id="id_table">
                {% for lang in language %}
                    <option value="{{ lang }}">{{ lang }}</option>
                {% endfor %}
                <option value="any">-any-</option>
            </select>
        </div>
        <div>
            <label for="id_table">Choose a University:</label>
            <select name="unitable" id="id_table">
                {% for uni in university %}
                    <option value="{{ uni.name }}">{{uni.name}}</option>
                {% endfor %}
                <option value="any">-any-</option>
            </select>
        </div>
        <div>
            <label for="id_table">Choose an Institute:</label>
            <select name="intable" id="id_table">
                {% for ins in institute %}
                    <option value="{{ ins.name }}">{{ins.name}}</option>
                {% endfor %}
                <option value="any">-any-</option>
            </select>
        </div>
        <div>
            <label for="id_table">Choose a Table:</label>
            <select name="table" id="id_table">
                <option value="" selected>-- All Tables --</option>
                <option value="title">Title</option>
                <option value="author">Author</option>
                <option value="institute">Institute</option>
                <option value="superviser">Superviser</option>
            </select>
        </div>
        <div>
            <label for="id_table">Beginning Date:</label>
            <input type="date" name="beginning_date" id="id_query" value="submitdatebegin">
        </div>
        <div>
            <label for="id_table">Ending Date:</label>
            <input type="date" name="ending_date" id="id_query" value="submitdateend">
        </div>
        <div>
            <div>
                <label for="id_table">Number of Pages Min:</label>
                <input type="number" name="number_of_pages_min" id="id_query" value="numberofpagesmin">
            </div>
            <div>
                <label for="id_table">Number of Pages Max:</label>
                <input type="number" name="number_of_pages_max" id="id_query" value="numberofpagemax">
            </div>
        </div>

        <div>
            <label for="id_table">Chose a University:</label>
            <select name="unitable" id="id_table">
                {% for uni in university %}
                    <option value="{{ uni.name }}">{{uni.name}}</option>
                {% endfor %}
                <option value="any">-any-</option>
            </select>
        </div>
        <div>
            <label for="id_table">Chose a Institute:</label>
            <select name="intable" id="id_table">
                {% for ins in institute %}
                    <option value="{{ ins.name }}">{{ins.name}}</option>
                {% endfor %}
                <option value="any">-any-</option>
            </select>
        </div>
    
    </form>
  

    {% if results %}
    <h2>Results:</h2>
    <ul>
        {% for thesis in results %}
            <li>
                <strong>Title:</strong> {{ thesis.title }}<br>
                <strong>Author:</strong> {{ thesis.author }} {{ thesis.author.surname }}<br>
                <strong>Year:</strong> {{ thesis.year }}<br>
                <strong>Type:</strong> {{ thesis.5 }}<br>
                <strong>University:</strong> {{ thesis.university }}<br>
                <strong>Institute:</strong> {{ thesis.institute }}<br>
                <strong>Number of Pages:</strong> {{ thesis.8 }}<br>
                <strong>Language:</strong> {{ thesis.9 }}<br>
                <strong>Supervisor:</strong> {{ thesis.10 }} {{ thesis.superviser.surname }}<br>
                {% if thesis.11 %}
                    <strong>Co-Supervisor:</strong> {{ thesis.cosuperviser.12}} {{ thesis.cosuperviser.surname }}<br>
                {% endif %}
                <strong>Submission Date:</strong> {{ thesis.13 }}
            </li>
        {% endfor %}
    </ul>

{% endif %}
</body>
</html>
